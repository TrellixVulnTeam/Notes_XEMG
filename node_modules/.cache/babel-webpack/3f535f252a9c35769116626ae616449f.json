{"ast":null,"code":"import { NotesContentComponent } from '../notes-content/notes-content.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../fire.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../notes-content/notes-content.component\";\n\nfunction NotesListComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵelementStart(1, \"div\", 10);\n    i0.ɵɵlistener(\"click\", function NotesListComponent_div_9_Template_div_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const n_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.getNoteContent(n_r1.id);\n    });\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"br\");\n    i0.ɵɵelementStart(5, \"span\", 11);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"hr\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const n_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"selected\", ctx_r0.selectedNote == n_r1.id ? true : false);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(n_r1.data.title);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(7, 4, n_r1.data.date, \"mediumDate\"));\n  }\n}\n\nexport let NotesListComponent = /*#__PURE__*/(() => {\n  class NotesListComponent {\n    constructor(fire) {\n      this.fire = fire;\n      this.NotesList = [];\n      this.selectedNote = '';\n      this.lastDocId = '';\n      this.getNotes();\n    }\n\n    ngOnInit() {}\n\n    getNotes() {\n      this.fire.getNotes().subscribe(res => {\n        var _a, _b;\n\n        this.NotesList = res.map(e => {\n          return {\n            id: e.payload.doc.id,\n            data: e.payload.doc.data()\n          };\n        });\n        console.log(this.NotesList);\n        this.NotesList.sort((a, b) => Number(b['id']) - Number(a['id']));\n\n        if (this.NotesList.length > 0) {\n          this.getNoteContent(this.NotesList[0]['id']);\n          this.lastDocId = this.selectedNote;\n          (_a = this.child) === null || _a === void 0 ? void 0 : _a.updateLastId(this.lastDocId);\n        }\n\n        if (this.NotesList.length == 0) {\n          (_b = this.child) === null || _b === void 0 ? void 0 : _b.initialiseVar();\n        }\n      });\n    } // getNotes(){\n    //   this.fire.getNotes().subscribe(res=>{\n    //     this.NotesList = res;\n    //     console.log(this.NotesList)\n    //   })\n    // }\n\n\n    getNoteContent(id) {\n      this.selectedNote = id;\n    }\n\n    deleteNote() {\n      this.fire.deleteNote(this.selectedNote);\n    }\n\n  }\n\n  NotesListComponent.ɵfac = function NotesListComponent_Factory(t) {\n    return new (t || NotesListComponent)(i0.ɵɵdirectiveInject(i1.FireService));\n  };\n\n  NotesListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: NotesListComponent,\n    selectors: [[\"app-notes-list\"]],\n    viewQuery: function NotesListComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(NotesContentComponent, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.child = _t.first);\n      }\n    },\n    decls: 12,\n    vars: 2,\n    consts: [[1, \"container-fluid\"], [1, \"row\"], [1, \"col-2\"], [1, \"col-8\", \"heading\"], [1, \"col-4\", \"list-top\"], [1, \"bi\", \"bi-trash\", 3, \"click\"], [\"class\", \"col-12\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-10\"], [3, \"noteId\"], [1, \"col-12\"], [1, \"wrapper\", 3, \"click\"], [1, \"date\"]],\n    template: function NotesListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"div\", 1);\n        i0.ɵɵelementStart(4, \"div\", 3);\n        i0.ɵɵtext(5, \"Notes\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"div\", 4);\n        i0.ɵɵelementStart(7, \"i\", 5);\n        i0.ɵɵlistener(\"click\", function NotesListComponent_Template_i_click_7_listener() {\n          return ctx.deleteNote();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(8, \"hr\");\n        i0.ɵɵtemplate(9, NotesListComponent_div_9_Template, 9, 7, \"div\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"div\", 7);\n        i0.ɵɵelement(11, \"app-notes-content\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngForOf\", ctx.NotesList);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"noteId\", ctx.selectedNote);\n      }\n    },\n    directives: [i2.NgForOf, i3.NotesContentComponent],\n    pipes: [i2.DatePipe],\n    styles: [\".container-fluid[_ngcontent-%COMP%]{background-color:#f5f5f5}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-2[_ngcontent-%COMP%]{border-right:1px solid grey}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-2[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{padding:10px}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-2[_ngcontent-%COMP%]   .list-top[_ngcontent-%COMP%]{text-align:right;padding:10px}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-2[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:13px}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{padding:10px 10px 10px 30px;border-radius:5px}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{background-color:#512d6d;color:#fff}\"]\n  });\n  return NotesListComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}